<p id="notice" style="color: red"><%= notice %></p>

<style>
    body {  
        margin: 0;  
        padding: 0;  
        background-color: #23463F; 
        font-family: 'Arial';  
    }  

    #block1 {
        background-color: #F5F5F5;
        margin: 10px 20px;
        padding: 20px;
        width: 360px;
        float: left;
    }

    #block2 {
        background-color: #F5F5F5;
        margin: 10px 20px;
        padding: 20px;
        width: 360px;
        float: right;
    }

    .wrapper {
        max-width: 800px;
        margin: 0 auto;
        background: #e0e0e0;
        overflow: hidden;
    }

    ul {
        list-style-type: none;
        margin: 0;
        padding: 0;
        overflow: hidden;
        background-color: #333;
    }

    li {
        float: left;
    }

    li a {
        display: block;
        color: black;
        text-align: center;
        padding: 14px 16px;
        text-decoration: none;
    }

    li a:hover {
        background-color: #919191;
    }

    .active {
        background-color: #04AA6D;
    }


    a {
        display: block;
        pading: 8px;
        background-color: #dddddd;
    }

    a:visited {
        color: inherit;
    }
</style>

<html>
    <div>
        <ul>
            <li class= "active">
                <%= link_to "Home", root_path %>
            </li>

            <li>
                <% if @create_modify_events %>
                    <%= link_to "Make Event", new_event_path %>
                <% end %>
            </li>

            <li>
                <%= link_to "View Events", events_path %>
            </li>

            <li>
                <%= link_to "Log Attendance Record", new_attendance_path %>
            </li>
            
            <li>
                <%= link_to "View Attendance Records", attendances_path  %>
            </li>

            <li>
                <% if @is_admin %>
                    <%= link_to "Manage User Permissions", users_path %>
                <% end %>
            </li>

            <li>
                <% if @create_modify_announcements %>
                    <%= link_to "Make Announcement", new_announcement_path %>
                <% end %>
            </li>

            <li>
                <%= link_to "View Announcements", announcements_path %>
            </li>

            <li style="float:right;">
                <%= link_to "Sign Out", destroy_admin_session_path %>
            </li>
            
        </ul>
    </div>


    <div>
        <h1 style="color: white;">Welcome, <%= @user.first_name %>!</h1>
    </div>

    <div class="wrapper">

        <div style="display: flex; flex-direction: row; justify-content: space-around; align-items: center;">
            <h2 style="float: left;">
                Announcements
            </h2>

            <h2 style="float: right;">
                Active Events
            </h2>
        </div>


        <div style="display: flex; flex-direction: row; justify-content: space-around; align-items: center;">
            <div style="display: flex; flex-direction: column; justify-content: space-around; align-items: center;">
                <% @announcements.last(4).reverse_each do |announcement| %>
                    <div id="block2">
                        <tbody>
                            <tr>
                                <td> <div style="text-align:center; font-size:20px;"> <%= announcement.title %> </div> </td>
                                <td> <div style="text-align:center"> <%= User.where(id: announcement.user_id).last.first_name %> <%= User.where(id: announcement.user_id).last.last_name %></div> </td>
                                <td> <div style="text-align:center"> <%= announcement.posted_on.strftime('%d/%m/%Y, %I:%M %P') %> </div> </td>
                                <br>
                                <td> Description: </td>
                                <td> 
                                    <div>  
                                        <%= announcement.description[0..100] %>
                                        <% if announcement.description.length > 100 %>
                                            <p style="display: inline">...</p>
                                        <% end %>
                                    </div>
                                </td>
                                <br>
                            </tr>
                            
                        </tbody>
                        
                    </div>
                <% end %>        

            </div>
            <div style="display: flex; flex-direction: column; justify-content: space-around; align-items: center;">
                <% @events.last(4).reverse_each do |event| %>
                    <div id="block1">
                        
                        <tbody>
                            <tr>

                                <td> <div style="text-align:center; font-size:20px;"> <%= event.title %> </div> </td>
                                <td> <div style="text-align:center"> <%= event.date %> </div> </td>
                                <br>
                                <td> Description: </td>
                                <div>  
                                    <%= event.description[0..100] %>
                                    <% if event.description.length > 100 %>
                                        <p style="display: inline">...</p>
                                    <% end %>
                                </div>

                                <br>

                            </tr>    

                            
                        </tbody>
                        
                    </div>
                <% end %>        
            </div>

        </div>

        
    </div>

    


</html>